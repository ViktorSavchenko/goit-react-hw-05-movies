"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[420],{420:function(e,t,a){a.r(t),a.d(t,{default:function(){return p}});var s=a(439),r=a(791),i=a(87),n=a(184),c=function(e){var t=e.onClick,a=(0,r.useState)(""),i=(0,s.Z)(a,2),c=i[0],l=i[1];return(0,n.jsx)("div",{className:"Container",children:(0,n.jsxs)("form",{onSubmit:function(e){e.preventDefault();var a=e.target.elements.search.value.trim();t(""!==a?a:[]),l("")},className:"Search-form",children:[(0,n.jsx)("label",{children:(0,n.jsx)("input",{type:"text",value:c,name:"search",placeholder:"Search...",onChange:function(e){l(e.target.value)},className:"Search-form__input"})}),(0,n.jsx)("button",{type:"submit",className:"Search-form__button",children:"Search"})]})})},l=a(689),o=function(e){var t=e.serchData.results,a=(0,l.TH)();return(0,n.jsx)("div",{className:"Container",children:(0,n.jsx)("ul",{className:"Search-movies-list",children:t.map((function(e){var t=e.id,s=e.original_title,r=e.poster_path,c=e.vote_average,l=e.release_date;return(0,n.jsx)("li",{className:"Search-movies-list__item",children:(0,n.jsxs)(i.rU,{to:"".concat(t),state:{from:a},children:[(0,n.jsxs)("div",{className:"Banner-wrapper",children:[r?(0,n.jsx)("img",{className:"Movies-list__img Search-movies-list__img",src:"https://image.tmdb.org/t/p/w300".concat(r),alt:s,width:223,height:335}):(0,n.jsx)("img",{className:"Movies-list__img Search-movies-list__img",src:"images/nf-cat.jpg",alt:s,width:223,height:335}),(0,n.jsx)("p",{className:"Movies-list__rating",children:c.toFixed(1)})]}),(0,n.jsxs)("div",{className:"Descriprion-wrapper",children:[(0,n.jsx)("p",{className:"Descriprion-title",children:s}),(0,n.jsxs)("p",{className:"Descriprion-date",children:["(",Number.parseInt(l),")"]})]})]})},t)}))})})},h=a(152),u="idle",m="loading",d="resolved",p=function(){var e,t=(0,r.useState)(u),a=(0,s.Z)(t,2),l=a[0],p=a[1],f=(0,r.useState)([]),g=(0,s.Z)(f,2),v=g[0],_=g[1],j=(0,i.lr)(),x=(0,s.Z)(j,2),N=x[0],S=x[1],b=null!==(e=N.get("quary"))&&void 0!==e?e:"";return(0,r.useEffect)((function(){p(m),fetch("\nhttps://api.themoviedb.org/3/search/movie?api_key=17cad80f9662381de06e4551c499d7de&language=en-US&query=".concat(b,"&page=1&include_adult=false")).then((function(e){return e.json()})).then((function(e){_(e),p(d)})).catch((function(e){p("reject")}))}),[b]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c,{onClick:function(e){if(""===e)return S({});S({quary:e})}}),l===m&&(0,n.jsx)("div",{children:"LOADING..."}),l===d&&0===v.results.length&&(0,n.jsx)(h.Z,{children:"There is nothing here or this material was not found, change your search parameters!"}),l===d&&v.results.length>0&&(0,n.jsx)(o,{serchData:v})]})}}}]);
//# sourceMappingURL=420.ce0b3e24.chunk.js.map